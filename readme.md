
# Multithreading test with prime numbers

This is a program where I'm doing first steps in multithreading.  

This programm will be a console program finding all prime numbers from 0 to x (x is determined by user input).
Since I'm not trying to find an optimal prime detector algorithm I'm using nested loops to find the prime numbers.
Multiple versions of this algorithm will be compared. For that I'm going to measure the execution time.
All versions will store the found prime numbers in a vec so that they can be manipulated afterwards.

Since this will not be a performant solution for finding primes the limit within primes are searched will be restricted to usize.  
The usize datatype is an unsigned integer of pointer size.
unsigned 64 bit Integer => 0 to 18'446'744'073'709'551'615.

---

## Overview of the different implementations

Version 0 will use the crate 'primal' to get a trustable list for all primes to verify the prime number results of my implementations.  
Version 1.x implementations are used as a control group and for checking out if filtering even numbers and so out is an improvement.  
Version 2.x implementations use multithreading and individual vec with different merging methods.  
Version 3.x implementations use shared vecs instead and checks the efficiency of different place where sorting this vec occurs.  

***Not really sure what exactly will be done in the following versions:***  
Version 4.x implementations will use different data structures (fixed size heap array, linked list, etc...).  
Version 5.x implementations will use the Sieve of Eratosthenes to generate primes.  

### **Version 0**

Using crate primal as trustable control.

### **Version 1.0**

No multithreading, just brute force.  
Used to determine if my multithreading solution is actually helpful.  

### **Version 1.1**

No multithreading but if statements to filter out numbers divisible by 2.  

### **Version 2.0**

Using scoped threads, writing to individual vecs that will be merged in the end.  
Each spawned scope gets a subset of the total numbers to process.  

### **Version 2.1**

Individual vecs will be merged in sorted order.  

### **Version 3.0**

All threads will write to a shared buffer using locks.  

### **Version 3.1**

Shared vec will get sorted in the end.  

### **Version 3.2**

Found primes get inserted into the shared vec at the correct place.  

---

## Project Progress

- [x] Created program state which stores the data generated by the program
- [x] Console interface and accepting user input
- [x] Function to print results to console
- [x] Function to wrap algorithm versions that measures their execution time
- [x] Function to check the results to baseline
- [x] Ability to rerun program
- [x] Version 0
- [x] Version 1.0
- [x] Version 1.1
- [ ] Version 2.0
  - not yet without blocking
  - no impovement over v1 yet
- [ ] Version 2.1
- [ ] Version 3.0
- [ ] Version 3.1
- [ ] Version 3.2

Optional / not sure if I will implement
- [ ] Choosing which versions to run
- [ ] Writing results to a file
- [ ] Version 4.x
- [ ] Version 5.x

---

## Crates used in this project

- Primal
- ClearScreen